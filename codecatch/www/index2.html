<!doctype html>
<html ng-app="Codecatch">
  <head>
    <meta charset="utf-8">
    <script src="js/jquery.js"></script>
    <script src="js/angular.js"></script>
    <script src="js/ui-bootstrap-tpls-0.13.0.min.js"></script>
    <script src="js/app.js"></script>
    <script src="js/bootstrap.js"></script>
    <link href="css/bootstrap.min.css" rel="stylesheet">
    <script src="//cdnjs.cloudflare.com/ajax/libs/angular-ui-bootstrap/0.13.0/ui-bootstrap-tpls.js"></script>
    
    
    <!-- leaflet imports-->
    <link rel="stylesheet" href="leaflet.css" />
    <script type="text/javascript" src="leaflet.js"></script>
    <script type="text/javascript" src="js/jquery-2.1.4.js"></script>
  

    <link rel="stylesheet" href="css/codecatch.css" />

    
    
    <!-- map imports-->
    <script type="text/javascript" charset="utf-8" src="js/map.js"></script>
    <!-- <link rel="stylesheet" href="css/map.css" /> -->
    
    <!-- compass imports-->
    <script type="text/javascript" charset="utf-8" src="js/compass.js"></script>
    
    <!-- cordova imports-->
    <script type="text/javascript" charset="utf-8" src="cordova.js"></script>
  
    <link rel="stylesheet" href="/resources/demos/style.css" />
    
    <script>
      $(function() {
      $( "#dialog" ).dialog();
      });
    </script>
    <title>Codecatch</title>

    <link rel="stylesheet" type="text/css" href="css/default.css" />
    <link rel="stylesheet" type="text/css" href="css/component.css" />

  </head>
    <body ng-app="Codecatch">
      <button id="showLeftPush">Show/Hide Left Push</button>
    <div ng-controller="jsonCtrl" id="navbar">


      <nav class="cbp-spmenu cbp-spmenu-vertical cbp-spmenu-left" id="cbp-spmenu-s1">
        <h3>Menu</h3>
        <a href="#">Celery seakale</a>
        <a href="#">Dulse daikon</a>
        <a href="#">Zucchini garlic</a>
        <a href="#">Catsear azuki bean</a>
        <a href="#">Dandelion bunya</a>
        <a href="#">Rutabaga</a>
      </nav>



      <!-- NavBar -->
      <nav class="navbar navbar-inverse navbar-fixed-top">
        <div class="container">
          <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
              <span class="sr-only">Toggle navigation</span>
              <span class="icon-bar"></span>
              <span class="icon-bar"></span>
              <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="">[Codecatch]</a>
          </div>
          <!--<div id="App1" class="mainContainer" data-ng-app="jsonDataApp">-->

          <div id="navbar" class="collapse navbar-collapse">
            <ul class="nav navbar-nav">
              <li ><a href="" ng-click="showPos = !showPos; showPoi = false; removeAllMarkers()">Position</a></li>
              <li ><a href="" ng-click="showPoi = !showPoi; showPos = false; removeAllMarkers()">POI</a></li>
              <li ><a href="" ng-click="removeAllMarkers(); showPoi=false; showPos=false; showAcc=false; showFalseInput=false">Reset</a></li>
            </ul>
          </div><!--/.nav-collapse -->
        </div>
      </nav>
      <!-- 

      Footer beim Klick auf POI mit Suche und POIs + Infos

      Zum Ausblenden einfach ng-click="show = !show"

    -->
    
      <div id="footerPoi" ng-show="showPoi" style="height:50%;overflow:auto;">

        <div id="container">

          <div class="input-group">
            <span class="input-group-addon" id="sizing-addon2">Suche nach:</span>
            <input type="text" class="form-control" placeholder="&quot;Fast Food&quot;, &quot;Pommes&quot;, &quot;Würstchen&quot;" aria-describedby="sizing-addon2" ng-model="searchPOI.tags" ng-model="searchPOI.name">
          </div>
          </br>
          <accordion close-others="true">
            <accordion-group class="fx-fade-right fx-speed-300" ng-repeat="x in pois | filter:searchPOI.tags | filter:searchPOI.name" heading="{{x.name}}">
              {{x.beschreibung}}
            <button ng-click="locateMap(x.x, x.y, x.name, x.logoName)">Locate</button>
            <!--
            <button ng-show="showbutton2" ng-click="deleteLocateMarker(); locateMap(x.x, x.y, x.name); showbutton=!showbutton; showbutton2=!showbutton2">
            Locate2
            </button>
            -->
            </accordion-group> 
          </accordion>
        </div>         
      </div>


      <!-- 

      Footer beim Klick auf POI mit Suche und POIs + Infos

      Zum Ausblenden einfach ng-click="show = !show"

      -->
      

      <!-- FooterDiv for Position Button -->

      <div id="footerPosition" ng-show="showPos" style="height:50%;overflow:auto;">
        <div id="container">
          <div class="input-group">
            <span class="input-group-addon" id="sizing-addon2">Positionscode (4-stellig):</span>
            <input type="text" class="form-control" placeholder="&quot;1234&quot;" aria-describedby="sizing-addon2" ng-model="PositionCode" maxlength="4">
          </div>
          <button ng-click="removeAllMarkers(); getPosition(PositionCode, 0)">Zeige Position</button>
          <button ng-click="getPosition(PositionCode, 1)">Zeige Position und öffne POI-Liste</button>
          <div ng-show="showFalseInput">
            Der Positionscode wurde falsch eingegeben! Bitte erneut eingeben!
          </div>

          <!-- Accordion shows when Positioncode true after click on Button -->

          <div ng-show="showAcc">
            Navigiere zu:
            <accordion close-others="true">
              <accordion-group class="fx-fade-right fx-speed-300" ng-repeat="x in pois | filter:searchPOI.tags | filter:searchPOI.name" heading="{{x.name}}">
                {{x.beschreibung}}
                <button ng-click="drawWay(x.x, x.y, x.name)">Navigate</button>
              </accordion-group> 
            </accordion>
          </div>

        </div>         
      </div>
    </div> <!--./jsonCtrl-->

    
    <!-- map -->
    <div id="map">
      <script type="text/javascript" charset="utf-8">mapInit();</script>
      <!-- compass needle -->
      <div id="compass">
        <script type="text/javascript" charset="utf-8">compassInit();</script>
        <img src="compass.png" ></img>  <!-- compass.png ist aus dem Internet geklaut, es sind keine Rechte an diesem Bild vorhanden -->
      </div>
    </div>


    <script src="js/classie.js"></script>
    <script>
      var menuLeft = document.getElementById( 'cbp-spmenu-s1' ),
        menuRight = document.getElementById( 'cbp-spmenu-s2' ),
        menuTop = document.getElementById( 'cbp-spmenu-s3' ),
        menuBottom = document.getElementById( 'cbp-spmenu-s4' ),
        showLeft = document.getElementById( 'showLeft' ),
        showRight = document.getElementById( 'showRight' ),
        showTop = document.getElementById( 'showTop' ),
        showBottom = document.getElementById( 'showBottom' ),
        showLeftPush = document.getElementById( 'showLeftPush' ),
        showRightPush = document.getElementById( 'showRightPush' ),
        body = document.body;

      showLeft.onclick = function() {
        classie.toggle( this, 'active' );
        classie.toggle( menuLeft, 'cbp-spmenu-open' );
        disableOther( 'showLeft' );
      };
      showRight.onclick = function() {
        classie.toggle( this, 'active' );
        classie.toggle( menuRight, 'cbp-spmenu-open' );
        disableOther( 'showRight' );
      };
      showTop.onclick = function() {
        classie.toggle( this, 'active' );
        classie.toggle( menuTop, 'cbp-spmenu-open' );
        disableOther( 'showTop' );
      };
      showBottom.onclick = function() {
        classie.toggle( this, 'active' );
        classie.toggle( menuBottom, 'cbp-spmenu-open' );
        disableOther( 'showBottom' );
      };
      showLeftPush.onclick = function() {
        classie.toggle( this, 'active' );
        classie.toggle( body, 'cbp-spmenu-push-toright' );
        classie.toggle( menuLeft, 'cbp-spmenu-open' );
        disableOther( 'showLeftPush' );
      };
      showRightPush.onclick = function() {
        classie.toggle( this, 'active' );
        classie.toggle( body, 'cbp-spmenu-push-toleft' );
        classie.toggle( menuRight, 'cbp-spmenu-open' );
        disableOther( 'showRightPush' );
      };

      function disableOther( button ) {
        if( button !== 'showLeft' ) {
          classie.toggle( showLeft, 'disabled' );
        }
        if( button !== 'showRight' ) {
          classie.toggle( showRight, 'disabled' );
        }
        if( button !== 'showTop' ) {
          classie.toggle( showTop, 'disabled' );
        }
        if( button !== 'showBottom' ) {
          classie.toggle( showBottom, 'disabled' );
        }
        if( button !== 'showLeftPush' ) {
          classie.toggle( showLeftPush, 'disabled' );
        }
        if( button !== 'showRightPush' ) {
          classie.toggle( showRightPush, 'disabled' );
        }
      }
    </script>

  </body>

 </html>
